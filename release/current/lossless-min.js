"use strict";var jpeg=(()=>{var u=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(s,t)=>(typeof require<"u"?require:s)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var y=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports);var U=y((te,S)=>{"use strict";var T=T||{};T.lossless=T.lossless||{};T.lossless.ComponentSpec=T.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0};var X=typeof S;X!=="undefined"&&S.exports&&(S.exports=T.lossless.ComponentSpec)});var E=y((re,v)=>{"use strict";var g=g||{};g.lossless=g.lossless||{};g.lossless.DataStream=g.lossless.DataStream||function(e,s,t){s===void 0&&t===void 0?this.buffer=new Uint8Array(e):this.buffer=new Uint8Array(e,s,t),this.index=0};g.lossless.DataStream.prototype.get16=function(){var e=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,e};g.lossless.DataStream.prototype.get8=function(){var e=this.buffer[this.index];return this.index+=1,e};var Y=typeof v;Y!=="undefined"&&v.exports&&(v.exports=g.lossless.DataStream)});var w=y((ie,C)=>{"use strict";var p=p||{};p.lossless=p.lossless||{};p.lossless.Utils=p.lossless.Utils||{};p.lossless.Utils.createArray=function(e){var s=new Array(e||0),t=e;if(arguments.length>1)for(var r=Array.prototype.slice.call(arguments,1);t--;)s[e-1-t]=p.lossless.Utils.createArray.apply(this,r);return s};p.lossless.Utils.makeCRCTable=function(){for(var e,s=[],t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;s[t]=e}return s};p.lossless.Utils.crc32=function(e){for(var s=new Uint8Array(e.buffer),t=p.lossless.Utils.crcTable||(p.lossless.Utils.crcTable=p.lossless.Utils.makeCRCTable()),r=-1,i=0;i<s.length;i++)r=r>>>8^t[(r^s[i])&255];return(r^-1)>>>0};var O=typeof C;O!=="undefined"&&C.exports&&(C.exports=p.lossless.Utils)});var P=y((oe,k)=>{"use strict";var f=f||{};f.lossless=f.lossless||{};f.lossless.DataStream=f.lossless.DataStream||(typeof u<"u"?E():null);f.lossless.Utils=f.lossless.Utils||(typeof u<"u"?w():null);f.lossless.HuffmanTable=f.lossless.HuffmanTable||function(){this.l=f.lossless.Utils.createArray(4,2,16),this.th=[],this.v=f.lossless.Utils.createArray(4,2,16,200),this.tc=f.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0};f.lossless.HuffmanTable.MSB=2147483648;f.lossless.HuffmanTable.prototype.read=function(e,s){var t=0,r,i,l,a,n,h;for(r=e.get16(),t+=2;t<r;){if(i=e.get8(),t+=1,l=i&15,l>3)throw new Error("ERROR: Huffman table ID > 3");if(a=i>>4,a>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[l]=1,this.tc[l][a]=1,n=0;n<16;n+=1)this.l[l][a][n]=e.get8(),t+=1;for(n=0;n<16;n+=1)for(h=0;h<this.l[l][a][n];h+=1){if(t>r)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[l][a][n][h]=e.get8(),t+=1}}if(t!==r)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(n=0;n<4;n+=1)for(h=0;h<2;h+=1)this.tc[n][h]!==0&&this.buildHuffTable(s[n][h],this.l[n][h],this.v[n][h]);return 1};f.lossless.HuffmanTable.prototype.buildHuffTable=function(e,s,t){var r,i,l,a,n,h;for(i=256,l=0,a=0;a<8;a+=1)for(n=0;n<s[a];n+=1)for(h=0;h<i>>a+1;h+=1)e[l]=t[a][n]|a+1<<8,l+=1;for(a=1;l<256;a+=1,l+=1)e[l]=a|f.lossless.HuffmanTable.MSB;for(r=1,l=0,a=8;a<16;a+=1)for(n=0;n<s[a];n+=1){for(h=0;h<i>>a-7;h+=1)e[r*256+l]=t[a][n]|a+1<<8,l+=1;if(l>=256){if(l>256)throw new Error("ERROR: Huffman table error(1)!");l=0,r+=1}}};var j=typeof k;j!=="undefined"&&k.exports&&(k.exports=f.lossless.HuffmanTable)});var _=y((ne,q)=>{"use strict";var m=m||{};m.lossless=m.lossless||{};m.lossless.DataStream=m.lossless.DataStream||(typeof u<"u"?E():null);m.lossless.Utils=m.lossless.Utils||(typeof u<"u"?w():null);m.lossless.QuantizationTable=m.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=m.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0};m.lossless.QuantizationTable.enhanceQuantizationTable=function(e,s){var t;for(t=0;t<8;t+=1)e[s[0*8+t]]*=90,e[s[4*8+t]]*=90,e[s[2*8+t]]*=118,e[s[6*8+t]]*=49,e[s[5*8+t]]*=71,e[s[1*8+t]]*=126,e[s[7*8+t]]*=25,e[s[3*8+t]]*=106;for(t=0;t<8;t+=1)e[s[0+8*t]]*=90,e[s[4+8*t]]*=90,e[s[2+8*t]]*=118,e[s[6+8*t]]*=49,e[s[5+8*t]]*=71,e[s[1+8*t]]*=126,e[s[7+8*t]]*=25,e[s[3+8*t]]*=106;for(t=0;t<64;t+=1)e[t]>>=6};m.lossless.QuantizationTable.prototype.read=function(e,s){var t=0,r,i,l,a;for(r=e.get16(),t+=2;t<r;){if(i=e.get8(),t+=1,l=i&15,l>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[l]=i>>4,this.precision[l]===0)this.precision[l]=8;else if(this.precision[l]===1)this.precision[l]=16;else throw new Error("ERROR: Quantization table precision error");if(this.tq[l]=1,this.precision[l]===8){for(a=0;a<64;a+=1){if(t>r)throw new Error("ERROR: Quantization table format error");this.quantTables[l][a]=e.get8(),t+=1}m.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[l],s)}else{for(a=0;a<64;a+=1){if(t>r)throw new Error("ERROR: Quantization table format error");this.quantTables[l][a]=e.get16(),t+=2}m.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[l],s)}}if(t!==r)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1};var M=typeof q;M!=="undefined"&&q.exports&&(q.exports=m.lossless.QuantizationTable)});var V=y((he,H)=>{"use strict";var b=b||{};b.lossless=b.lossless||{};b.lossless.ScanComponent=b.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0};var G=typeof H;G!=="undefined"&&H.exports&&(H.exports=b.lossless.ScanComponent)});var z=y((ue,L)=>{"use strict";var d=d||{};d.lossless=d.lossless||{};d.lossless.DataStream=d.lossless.DataStream||(typeof u<"u"?E():null);d.lossless.ScanComponent=d.lossless.ScanComponent||(typeof u<"u"?V():null);d.lossless.ScanHeader=d.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]};d.lossless.ScanHeader.prototype.read=function(e){var s=0,t,r,i;for(t=e.get16(),s+=2,this.numComp=e.get8(),s+=1,r=0;r<this.numComp;r+=1){if(this.components[r]=new d.lossless.ScanComponent,s>t)throw new Error("ERROR: scan header format error");this.components[r].scanCompSel=e.get8(),s+=1,i=e.get8(),s+=1,this.components[r].dcTabSel=i>>4,this.components[r].acTabSel=i&15}if(this.selection=e.get8(),s+=1,this.spectralEnd=e.get8(),s+=1,i=e.get8(),this.ah=i>>4,this.al=i&15,s+=1,s!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1};var K=typeof L;K!=="undefined"&&L.exports&&(L.exports=d.lossless.ScanHeader)});var Q=y((fe,A)=>{"use strict";var F=F||{};F.lossless=F.lossless||{};F.lossless.ComponentSpec=F.lossless.ComponentSpec||(typeof u<"u"?U():null);F.lossless.DataStream=F.lossless.DataStream||(typeof u<"u"?E():null);F.lossless.FrameHeader=F.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0};F.lossless.FrameHeader.prototype.read=function(e){var s=0,t,r,i,l;for(t=e.get16(),s+=2,this.precision=e.get8(),s+=1,this.dimY=e.get16(),s+=2,this.dimX=e.get16(),s+=2,this.numComp=e.get8(),s+=1,r=1;r<=this.numComp;r+=1){if(s>t)throw new Error("ERROR: frame format error");if(i=e.get8(),s+=1,s>=t)throw new Error("ERROR: frame format error [c>=Lf]");l=e.get8(),s+=1,this.components[i]||(this.components[i]=new F.lossless.ComponentSpec),this.components[i].hSamp=l>>4,this.components[i].vSamp=l&15,this.components[i].quantTableSel=e.get8(),s+=1}if(s!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1};var J=typeof A;J!=="undefined"&&A.exports&&(A.exports=F.lossless.FrameHeader)});var N=y((pe,I)=>{"use strict";var o=o||{};o.lossless=o.lossless||{};o.lossless.DataStream=o.lossless.DataStream||(typeof u<"u"?E():null);o.lossless.HuffmanTable=o.lossless.HuffmanTable||(typeof u<"u"?P():null);o.lossless.QuantizationTable=o.lossless.QuantizationTable||(typeof u<"u"?_():null);o.lossless.ScanHeader=o.lossless.ScanHeader||(typeof u<"u"?z():null);o.lossless.FrameHeader=o.lossless.FrameHeader||(typeof u<"u"?Q():null);o.lossless.Utils=o.lossless.Utils||(typeof u<"u"?w():null);o.lossless.Decoder=o.lossless.Decoder||function(e,s){this.buffer=e,this.frame=new o.lossless.FrameHeader,this.huffTable=new o.lossless.HuffmanTable,this.quantTable=new o.lossless.QuantizationTable,this.scan=new o.lossless.ScanHeader,this.DU=o.lossless.Utils.createArray(10,4,64),this.HuffTab=o.lossless.Utils.createArray(4,2,50*256),this.IDCT_Source=[],this.nBlock=[],this.acTab=o.lossless.Utils.createArray(10,1),this.dcTab=o.lossless.Utils.createArray(10,1),this.qTab=o.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,typeof s<"u"&&(this.numBytes=s)};o.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54];o.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];o.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50;o.lossless.Decoder.MSB=2147483648;o.lossless.Decoder.RESTART_MARKER_BEGIN=65488;o.lossless.Decoder.RESTART_MARKER_END=65495;o.lossless.Decoder.prototype.decompress=function(e,s,t){return this.decode(e,s,t).buffer};o.lossless.Decoder.prototype.decode=function(e,s,t,r){var i,l=0,a=[],n,h,D=[],x=[],R;if(typeof e<"u"&&(this.buffer=e),typeof r<"u"&&(this.numBytes=r),this.stream=new o.lossless.DataStream(this.buffer,s,t),this.buffer=null,this.xLoc=0,this.yLoc=0,i=this.stream.get16(),i!==65496)throw new Error("Not a JPEG file");for(i=this.stream.get16();i>>4!==4092||i===65476;){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,o.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!==255)throw new Error("ERROR: format throw new IOException! (decode)")}i=this.stream.get16()}if(i<65472||i>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),i=this.stream.get16();do{for(;i!==65498;){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,o.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!==255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}i=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),this.numBytes==1?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,this.numBytes===1?this.numComp===3?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1;break}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,n=0;n<this.numComp;n+=1)h=this.scanComps[n].scanCompSel,this.qTab[n]=this.quantTables[this.components[h].quantTableSel],this.nBlock[n]=this.components[h].vSamp*this.components[h].hSamp,this.dcTab[n]=this.HuffTab[this.scanComps[n].dcTabSel][0],this.acTab[n]=this.HuffTab[this.scanComps[n].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,this.numBytes==1?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),l+=1;;){for(D[0]=0,x[0]=0,n=0;n<10;n+=1)a[n]=1<<this.precision-1;if(this.restartInterval===0){for(i=this.decodeUnit(a,D,x);i===0&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(a),i=this.decodeUnit(a,D,x);break}for(R=0;R<this.restartInterval&&(this.restarting=R==0,i=this.decodeUnit(a,D,x),this.output(a),i===0);R+=1);if(i===0&&(this.markerIndex!==0?(i=65280|this.marker,this.markerIndex=0):i=this.stream.get16()),!(i>=o.lossless.Decoder.RESTART_MARKER_BEGIN&&i<=o.lossless.Decoder.RESTART_MARKER_END))break}i===65500&&l===1&&(this.readNumber(),i=this.stream.get16())}while(i!==65497&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&l===0);return this.outputData};o.lossless.Decoder.prototype.decodeUnit=function(e,s,t){return this.numComp==1?this.decodeSingle(e,s,t):this.numComp==3?this.decodeRGB(e,s,t):-1};o.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)};o.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)};o.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)};o.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)};o.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)};o.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)};o.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2};o.lossless.Decoder.prototype.decodeRGB=function(e,s,t){var r,i,l,a,n,h,D,x;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),n=0;n<this.numComp;n+=1)for(a=this.qTab[n],i=this.acTab[n],l=this.dcTab[n],h=0;h<this.nBlock[n];h+=1){for(D=0;D<this.IDCT_Source.length;D+=1)this.IDCT_Source[D]=0;if(r=this.getHuffmanValue(l,s,t),r>=65280)return r;for(e[n]=this.IDCT_Source[0]=e[n]+this.getn(t,r,s,t),this.IDCT_Source[0]*=a[0],x=1;x<64;x+=1){if(r=this.getHuffmanValue(i,s,t),r>=65280)return r;if(x+=r>>4,r&15)this.IDCT_Source[o.lossless.Decoder.IDCT_P[x]]=this.getn(t,r&15,s,t)*a[x];else if(!(r>>4))break}}return 0};o.lossless.Decoder.prototype.decodeSingle=function(e,s,t){var r,i,l,a;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),i=0;i<this.nBlock[0];i+=1){if(r=this.getHuffmanValue(this.dcTab[0],s,t),r>=65280)return r;if(l=this.getn(e,r,s,t),a=l>>8,a>=o.lossless.Decoder.RESTART_MARKER_BEGIN&&a<=o.lossless.Decoder.RESTART_MARKER_END)return a;e[0]+=l}return 0};o.lossless.Decoder.prototype.getHuffmanValue=function(e,s,t){var r,i,l;if(l=65535,t[0]<8?(s[0]<<=8,i=this.stream.get8(),i===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),s[0]|=i):t[0]-=8,r=e[s[0]>>t[0]],r&o.lossless.Decoder.MSB){if(this.markerIndex!==0)return this.markerIndex=0,65280|this.marker;s[0]&=l>>16-t[0],s[0]<<=8,i=this.stream.get8(),i===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),s[0]|=i,r=e[(r&255)*256+(s[0]>>t[0])],t[0]+=8}if(t[0]+=8-(r>>8),t[0]<0)throw new Error("index="+t[0]+" temp="+s[0]+" code="+r+" in HuffmanValue()");return t[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(s[0]&=l>>16-t[0],r&255)};o.lossless.Decoder.prototype.getn=function(e,s,t,r){var i,l,a,n,h;if(l=1,a=-1,n=65535,s===0)return 0;if(s===16)return e[0]>=0?-32768:32768;if(r[0]-=s,r[0]>=0){if(r[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;i=t[0]>>r[0],t[0]&=n>>16-r[0]}else{if(t[0]<<=8,h=this.stream.get8(),h===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),t[0]|=h,r[0]+=8,r[0]<0){if(this.markerIndex!==0)return this.markerIndex=0,(65280|this.marker)<<8;t[0]<<=8,h=this.stream.get8(),h===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),t[0]|=h,r[0]+=8}if(r[0]<0)throw new Error("index="+r[0]+" in getn()");if(r[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i=t[0]>>r[0],t[0]&=n>>16-r[0]}return i<l<<s-1&&(i+=(a<<s)+1),i};o.lossless.Decoder.prototype.getPreviousX=function(e){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):this.yLoc>0?this.getPreviousY(e):1<<this.frame.precision-1};o.lossless.Decoder.prototype.getPreviousXY=function(e){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)};o.lossless.Decoder.prototype.getPreviousY=function(e){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)};o.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1};o.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))};o.lossless.Decoder.prototype.outputRGB=function(e){var s=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(s,e[0],0),this.setter(s,e[1],1),this.setter(s,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))};o.lossless.Decoder.prototype.setValue8=function(e,s){this.outputData[e]=s};o.lossless.Decoder.prototype.getValue8=function(e){return this.outputData[e]};var W=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256}();W?(o.lossless.Decoder.prototype.setValue16=o.lossless.Decoder.prototype.setValue8,o.lossless.Decoder.prototype.getValue16=o.lossless.Decoder.prototype.getValue8):(o.lossless.Decoder.prototype.setValue16=function(e,s){this.outputData[e]=(s&255)<<8|s>>8&255},o.lossless.Decoder.prototype.getValue16=function(e){var s=this.outputData[e];return(s&255)<<8|s>>8&255});o.lossless.Decoder.prototype.setValueRGB=function(e,s,t){this.outputData[e*3+t]=s};o.lossless.Decoder.prototype.getValueRGB=function(e,s){return this.outputData[e*3+s]};o.lossless.Decoder.prototype.readApp=function(){var e=0,s=this.stream.get16();for(e+=2;e<s;)this.stream.get8(),e+=1;return s};o.lossless.Decoder.prototype.readComment=function(){var e="",s=0,t;for(t=this.stream.get16(),s+=2;s<t;)e+=this.stream.get8(),s+=1;return e};o.lossless.Decoder.prototype.readNumber=function(){var e=this.stream.get16();if(e!==4)throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()};var Z=typeof I;Z!=="undefined"&&I.exports&&(I.exports=o.lossless.Decoder)});var ee=y((Fe,B)=>{var c=c||{};c.lossless=c.lossless||{};c.lossless.ComponentSpec=c.lossless.ComponentSpec||(typeof u<"u"?U():null);c.lossless.DataStream=c.lossless.DataStream||(typeof u<"u"?E():null);c.lossless.Decoder=c.lossless.Decoder||(typeof u<"u"?N():null);c.lossless.FrameHeader=c.lossless.FrameHeader||(typeof u<"u"?Q():null);c.lossless.HuffmanTable=c.lossless.HuffmanTable||(typeof u<"u"?P():null);c.lossless.QuantizationTable=c.lossless.QuantizationTable||(typeof u<"u"?_():null);c.lossless.ScanComponent=c.lossless.ScanComponent||(typeof u<"u"?V():null);c.lossless.ScanHeader=c.lossless.ScanHeader||(typeof u<"u"?z():null);c.lossless.Utils=c.lossless.Utils||(typeof u<"u"?w():null);var $=typeof B;$!=="undefined"&&B.exports&&(B.exports=c)});return ee();})();
